{"id":"ad5244d7-87a1-45bf-aa47-4d6d7b37696e","revision":0,"last_node_id":62,"last_link_id":124,"nodes":[{"id":44,"type":"ConditioningZeroOut","pos":[790,610],"size":[197.712890625,26],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":108}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[109]}],"properties":{"Node name for S&R":"ConditioningZeroOut","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":[]},{"id":40,"type":"CheckpointLoaderSimple","pos":[179.5068359375,87.76739501953125],"size":[375,98],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[111]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[80]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[83]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","cnr_id":"comfy-core","ver":"0.3.32","models":[{"name":"ace_step_v1_3.5b.safetensors","url":"https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/resolve/main/all_in_one/ace_step_v1_3.5b.safetensors?download=true","directory":"checkpoints"}]},"widgets_values":["ace_step_v1_3.5b.safetensors"],"color":"#322","bgcolor":"#533"},{"id":17,"type":"EmptyAceStepLatentAudio","pos":[710,690],"size":[270,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"seconds","name":"seconds","type":"FLOAT","widget":{"name":"seconds"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[23]}],"properties":{"Node name for S&R":"EmptyAceStepLatentAudio","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":[220,1]},{"id":48,"type":"MarkdownNote","pos":[-360.0564270019531,45.08247375488281],"size":[499.296875,571.3455200195312],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"About ACE Step","properties":{},"widgets_values":["[Tutorial](http://docs.comfy.org/tutorials/audio/ace-step/ace-step-v1) | [教程](http://docs.comfy.org/zh-CN/tutorials/audio/ace-step/ace-step-v1)\n\n\n### Model Download\n\nDownload the following model and save it to the **ComfyUI/models/checkpoints** folder.\n[ace_step_v1_3.5b.safetensors](https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/blob/main/all_in_one/ace_step_v1_3.5b.safetensors)\n\n\n### Multilingual Support\n\nCurrently, ACE-Step V1 supports multiple languages. When running, the ACE-Step model will obtain the English letters after the conversion of the corresponding different languages, and then generate music.\n\nHowever, currently in ComfyUI, we have not fully implemented the conversion from multiple languages to English letters (Japanese has been implemented at present). Therefore, if you need to use multiple languages for relevant music generation, you need to first convert the corresponding language into English letters, and then input the abbreviation of the corresponding language code at the beginning of the corresponding `lyrics`.\n\nFor example, Chinese `[zh]`, Japanese `[ja]`, Korean `[ko]`, etc.\nFor example:\n```\n[zh]ni hao\n[ja]kon ni chi wa\n[ko]an nyeong\n```\n\n---\n\n### 模型下载\n\n下载下面的模型并保存到 **ComfyUI/models/checkpoints** 文件夹下\n[ace_step_v1_3.5b.safetensors](https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/blob/main/all_in_one/ace_step_v1_3.5b.safetensors)\n\n\n### 多语言支持\n\n目前 ACE-Step V1 是支持多语言的，运行是 ACE-Step 模型会获取到对应的不同语言转换后的英文字母，然后进行音乐生成。\n\n但目前在 ComfyUI 中我们并没有完全实现多语言到英文字母的转换（目前日文已经实现），所以如果你需要使用多语言来进行相关的音乐生成，你需要首先将对应的语言转换成英文字母，然后在对应 `lyrics` 开头输入对应语言代码的缩写。\n\n比如中文`[zh]` 日语 `[ja]` 韩语 `[ko]` 等\n比如：\n```\n[zh]ni hao\n[ja]kon ni chi wa\n[ko]an nyeong\n```"],"color":"#432","bgcolor":"#653"},{"id":49,"type":"Note","pos":[1073.247802734375,414.76361083984375],"size":[399,256],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"Tips","properties":{},"widgets_values":["Tips:\nsampler \"res_multistep\" is best at the moment\nothers produce garbage.\nscheduler \"kl_optimal\" gets little better quality\nsteps \"100\" is best for quality\nabove 100 sound is little wierd.\nmodel shift \"4\" or \"3\" if song should be slower\ncfg above \"4\" is not good for quality.\nlyrics strength \"0.8\" \"0.9\" or \"1.0\"\n\nyou can split song into stems and convert voice in all\nyou like with \"RVC\" Voice Cloner.\n\nor you load stems into FLStudio and do the magic\n(perhaps with soundgoodizer)\n\nlol.\n\n"],"color":"#432","bgcolor":"#653"},{"id":18,"type":"VAEDecodeAudio","pos":[1370,100],"size":[150.93612670898438,46],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":101},{"localized_name":"vae","name":"vae","type":"VAE","link":83}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[119,121]}],"properties":{"Node name for S&R":"VAEDecodeAudio","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":[]},{"id":51,"type":"AudioSeparation","pos":[2142.969970703125,103.78311920166016],"size":[270,166],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":124},{"localized_name":"chunk_fade_shape","name":"chunk_fade_shape","shape":7,"type":"COMBO","widget":{"name":"chunk_fade_shape"},"link":null},{"localized_name":"chunk_length","name":"chunk_length","shape":7,"type":"FLOAT","widget":{"name":"chunk_length"},"link":null},{"localized_name":"chunk_overlap","name":"chunk_overlap","shape":7,"type":"FLOAT","widget":{"name":"chunk_overlap"},"link":null}],"outputs":[{"localized_name":"Bass","name":"Bass","type":"AUDIO","links":[115]},{"localized_name":"Drums","name":"Drums","type":"AUDIO","links":[116]},{"localized_name":"Other","name":"Other","type":"AUDIO","links":[117]},{"localized_name":"Vocals","name":"Vocals","type":"AUDIO","links":[118]}],"properties":{"Node name for S&R":"AudioSeparation"},"widgets_values":["linear",10,0.1]},{"id":45,"type":"ModelSamplingSD3","pos":[715.2496948242188,-31.243383407592773],"size":[284.98333740234375,58],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":111},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[112]}],"title":"ModelSamplingSD3 - Speed from Song","properties":{"Node name for S&R":"ModelSamplingSD3","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":[4.000000000000001]},{"id":19,"type":"SaveAudio","pos":[2467.434326171875,89.20377349853516],"size":[375.57366943359375,112],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":115},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"title":"Save Bass","properties":{"cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["audio/song_bass"]},{"id":52,"type":"SaveAudio","pos":[2470.4326171875,255.2037811279297],"size":[375.57366943359375,112],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":116},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"title":"Save Drums","properties":{"cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["audio/song_drums"]},{"id":53,"type":"SaveAudio","pos":[2471.6015625,425.1512451171875],"size":[375.57366943359375,112],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":117},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"title":"Save Other","properties":{"cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["audio/song_other"]},{"id":54,"type":"SaveAudio","pos":[2467.77001953125,599.1510009765625],"size":[375.57366943359375,112],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":118},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"title":"Save Vocals","properties":{"cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["audio/song_vocals"]},{"id":60,"type":"Note","pos":[2147.219482421875,-131.49395751953125],"size":[226.80648803710938,164.5220947265625],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"Stem Separation","properties":{},"widgets_values":["connect VAEDecoder-Audio to AudioSeparation-Audio for\nactivating Stem Splitter or AI Audio Enhancer Pro-Audio"],"color":"#432","bgcolor":"#653"},{"id":50,"type":"Note","pos":[1058.35546875,-70.75404357910156],"size":[359.1293029785156,95.98600006103516],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"ACE-STEP - Tweaked Version for Better Quality","properties":{},"widgets_values":["Tweaked Version 1.1 with Audio Enhancer\n"],"color":"#432","bgcolor":"#653"},{"id":3,"type":"KSampler","pos":[1040,90],"size":[315,262],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":112},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":110},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":109},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":23},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[101]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":[344190975656637,"randomize",100,4,"res_multistep","kl_optimal",1]},{"id":59,"type":"SaveAudio","pos":[1938.819580078125,567.558349609375],"size":[375.57366943359375,112],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":121},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"title":"Save Song RAW","properties":{"cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["audio/song_raw"]},{"id":55,"type":"SaveAudio","pos":[1941.9595947265625,378.9379577636719],"size":[375.57366943359375,112],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":120},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"title":"Save Song Enhanced","properties":{"cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["audio/song_enhanced"]},{"id":14,"type":"TextEncodeAceStepAudio","pos":[581.5770874023438,82.79544830322266],"size":[413.60076904296875,447.163330078125],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":80},{"localized_name":"tags","name":"tags","type":"STRING","widget":{"name":"tags"},"link":null},{"localized_name":"lyrics","name":"lyrics","type":"STRING","widget":{"name":"lyrics"},"link":null},{"localized_name":"lyrics_strength","name":"lyrics_strength","type":"FLOAT","widget":{"name":"lyrics_strength"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[108,110]}],"properties":{"Node name for S&R":"TextEncodeAceStepAudio","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["voice from female singer, deep low voice, melodic house music, snare drum, hihat drum ,tom drum, clear piano, clear vocals, clear instruments, passionate melody,","[Verse 1]\nI’ve been walking through the silence,\nNeon lights and empty streets,\nEvery face is just a shadow,\nAnd none of them sees me.\n\nI lost my way in the chaos,\nSlipped between the cracks of time,\nNow I’m dancing with my memories,\nTo beats I used to find.\n\n[Pre-Chorus]\nI reach out in the dark,\nFor a spark, for a sign.\nBut every heartbeat fades,\nLike yours next to mine.\n\n[Chorus]\nHave you seen my soul?\nI think I left it in the cold.\nSomewhere between the highs and lows,\nWhere the lonely echoes go.\nHave you seen my soul?\nI swear it used to glow.\nBefore the night swallowed me whole—\nHave you seen my soul?\n\n[Verse 2]\nEvery whisper sounds familiar,\nBut the meaning slips away,\nChasing ghosts in every mirror,\nStill nothing wants to stay.\n\nI’ve been breathing underwater,\nHolding on to broken dreams,\nTrying not to fall apart\nIn a world that splits at the seams.\n\n[Pre-Chorus]\nI call out to the sky,\nTo the stars that don’t reply.\nJust a rhythm in my chest—\nOne more reason to try.\n\n[Chorus]\nHave you seen my soul?\nI think I left it in the cold.\nSomewhere between the highs and lows,\nWhere the lonely echoes go.\nHave you seen my soul?\nI swear it used to glow.\nBefore the night swallowed me whole—\nHave you seen my soul?\n\n[Bridge]\nIt’s not gone... just hidden.\nIn a place where light forgets.\nBut I know it’s still beating—\nEven if I’m not there yet.\n\n[Chorus]\nHave you seen my soul?\nI think I left it in the cold.\nSomewhere between the highs and lows,\nWhere the lonely echoes go.\nHave you seen my soul?\nI swear it used to glow.\nBefore the night swallowed me whole—\nHave you seen my soul?\n\n[Outro]\nHave you… seen my soul…\nHave you… seen… my… soul…",0.8000000000000002]},{"id":58,"type":"AudioQualityEnhancer","pos":[1537.989013671875,241.0215301513672],"size":[288.6666564941406,394],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":119},{"localized_name":"enhancement_level","name":"enhancement_level","type":"FLOAT","widget":{"name":"enhancement_level"},"link":null},{"localized_name":"use_source_separation","name":"use_source_separation","shape":7,"type":"BOOLEAN","widget":{"name":"use_source_separation"},"link":null},{"localized_name":"demucs_model","name":"demucs_model","shape":7,"type":"COMBO","widget":{"name":"demucs_model"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"vocals_enhance","name":"vocals_enhance","shape":7,"type":"FLOAT","widget":{"name":"vocals_enhance"},"link":null},{"localized_name":"drums_enhance","name":"drums_enhance","shape":7,"type":"FLOAT","widget":{"name":"drums_enhance"},"link":null},{"localized_name":"bass_enhance","name":"bass_enhance","shape":7,"type":"FLOAT","widget":{"name":"bass_enhance"},"link":null},{"localized_name":"other_enhance","name":"other_enhance","shape":7,"type":"FLOAT","widget":{"name":"other_enhance"},"link":null},{"localized_name":"clarity","name":"clarity","shape":7,"type":"FLOAT","widget":{"name":"clarity"},"link":null},{"localized_name":"dynamics","name":"dynamics","shape":7,"type":"FLOAT","widget":{"name":"dynamics"},"link":null},{"localized_name":"warmth","name":"warmth","shape":7,"type":"FLOAT","widget":{"name":"warmth"},"link":null},{"localized_name":"air","name":"air","shape":7,"type":"FLOAT","widget":{"name":"air"},"link":null},{"localized_name":"dolby_effect","name":"dolby_effect","shape":7,"type":"FLOAT","widget":{"name":"dolby_effect"},"link":null},{"localized_name":"simple_mode","name":"simple_mode","shape":7,"type":"COMBO","widget":{"name":"simple_mode"},"link":null},{"localized_name":"apply_limiter","name":"apply_limiter","shape":7,"type":"BOOLEAN","widget":{"name":"apply_limiter"},"link":null}],"outputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","links":[120,124]}],"properties":{"Node name for S&R":"AudioQualityEnhancer"},"widgets_values":[0.4200000000000001,true,"htdemucs","cuda",0.4000000000000001,0.45000000000000007,0.4,0.4000000000000001,0.5000000000000001,0.30000000000000004,0.20000000000000004,0.3500000000000001,0,"Standard",true]}],"links":[[23,17,0,3,3,"LATENT"],[80,40,1,14,0,"CLIP"],[83,40,2,18,1,"VAE"],[101,3,0,18,0,"LATENT"],[108,14,0,44,0,"CONDITIONING"],[109,44,0,3,2,"CONDITIONING"],[110,14,0,3,1,"CONDITIONING"],[111,40,0,45,0,"MODEL"],[112,45,0,3,0,"MODEL"],[115,51,0,19,0,"AUDIO"],[116,51,1,52,0,"AUDIO"],[117,51,2,53,0,"AUDIO"],[118,51,3,54,0,"AUDIO"],[119,18,0,58,0,"AUDIO"],[120,58,0,55,0,"AUDIO"],[121,18,0,59,0,"AUDIO"],[124,58,0,51,0,"AUDIO"]],"groups":[{"id":1,"title":"Load model here","bounding":[169.5068359375,14.167394638061523,395,181.60000610351562],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"frontendVersion":"1.18.9","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}